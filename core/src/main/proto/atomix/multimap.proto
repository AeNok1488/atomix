syntax = "proto3";

package atomix.multimap.service;

option java_package = "io.atomix.core.multimap.impl";
option java_outer_classname = "AtomicMultimapProto";
option java_multiple_files = true;

// Multimap snapshot
message AtomicMultimapSnapshot {
    int64 version = 1;
    repeated int64 listeners = 2;
    map<string, AtomicMultimapValues> values = 3;
}

// Atomic multimap value
message AtomicMultimapValues {
    int64 version = 1;
    repeated bytes values = 2;
}